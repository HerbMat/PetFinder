{% extends 'template.twig' %}
{% block title %}Latest advertisements{% endblock %}
{% block content %}
	<h2>Advertisements</h2>
	<div class="row">
	    <form action="{{ '/searchResult' | path }}" method="post" id="searchForm"
          enctype="multipart/form-data">
			<div class="row">
	        <div class="input-field col s3">
		        <input type="text" id="adInfo" name="adInfo"
		               class="validate" placeholder="Advertisement title">
				<label class="sr-only" for="adInfo">Title</label>
			</div>
	        <div class="input-field col s3">
		        <input type="text" id="petInfo" name="petInfo"
		               class="validate" placeholder="Name/Category/Race">
				<label class="sr-only" for="petInfo">Pet</label>
			</div>
	        <div class="input-field col s3">
		        <input type="text" id="locationInfo" name="locationInfo"
		               class="validate" placeholder="Voivodership/Commune/Place">
				<label class="sr-only" for="locationInfo">Location</label>
			</div>
	        <div class="input-field col s3">
		        <input type="text" id="tagInfo" name="tagInfo"
		               class="validate" placeholder="Tags">
				<label class="sr-only" for="tagInfo">Tags</label>
			</div>
			</div>

	        <input type="hidden" name="{{ csrf.parameterName }}" value="{{ csrf.token }}" />
	        <input type="hidden" name="page" value="1" />

	        <div class="form-actions clearfix">
	            <button class="btn btn-success btn-lg" type="submit">
	                {% block buttonFormLabel %} Search {% endblock %}
	            </button>
	        </div>
	    </form>
	</div>

	<p id="Ads">
		<ul class="collection">
		{% for ad in advertisements %}
		    <li class="collection-item left-align">
				<h5>{{ ad.getTitle }}</h5>
				<p>
					{% if ad.getLocation %}
						{% if ad.getLocation.getCommune %}
							{{ ad.getLocation.getCommune }},
						{% endif %}
						{% if ad.getLocation.getPlace %}
							{{ ad.getLocation.getPlace }},
						{% endif %}
						{% if ad.getLocation.getVoivodership %}
							{{ ad.getLocation.getVoivodership }}
						{% endif %}
					{% endif %}

					{% if ad.getTags %}
						{% for tag in ad.getTags %}
							<div class="chip">{{ tag.getName }}</div>
						{% endfor %}
					{% endif %}
				</p>
			</li>
		{% endfor %}
		</ul>

		{% if pages > 1 %}
		    <ul class="pagination">
		        {% if page > 1 %}<li class="waves-effect">
		            <a href="{{ '/latest/%d' | format(page - 1) | path }}"
		               aria-label="Previous" class="btn-floating">
		                <span aria-hidden="true">&laquo;</span>
		            </a>
		        </li>{% endif %}
		        {% if firstpage > 1 %}
		            <li><span aria-hidden="true">...</span></li>
		        {% endif %}
		        {% for p in printPages %}
		            {% if p == page %}
		                <li class="active" class="waves-effect">
		                    <a href="{{ '/latest/%d' | format(p) | path }}" class="btn-floating">{{ p }}</a>
		                </li>
		            {% else %}
		                <li>
		                    <a href="{{ '/latest/%d' | format(p) | path }}" class="btn-floating">{{ p }}</a>
		                </li>
		            {% endif %}
		        {% endfor %}
		        {% if lastpage < pages %}
		            <li><span aria-hidden="true">...</span></li>
		        {% endif %}
		        {% if page < pages %}<li class="waves-effect">
		            <a href="{{ '/latest/%d' | format(page + 1) | path }}" class="btn-floating"
		               aria-label="Next">
		                <span aria-hidden="true">&raquo;</span>
		            </a>
		        </li>{% endif %}
		    </ul>
		{% endif %}
	</div>

{% endblock %}
