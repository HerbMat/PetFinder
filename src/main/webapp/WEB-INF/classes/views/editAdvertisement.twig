{% extends 'template.twig' %}
{% block title %}Add advertisement{% endblock %}
{% block content %}

<div class="row">
    <h2 class="grey-text text-lighten-2">Edit Poster</h2>
    {% if statusEmpty %}
		<div class="row">
		    <div class="alert alert-danger col-md-6 col-md-offset-3 text-center"
		         role="alert">
		        {{ statusEmpty }}
		    </div>
		</div>
		{% endif %}
		
		{% if statusOK %}
		<div class="row">
		    <div class="alert alert-success col-md-6 col-md-offset-3 text-center"
		         role="alert">
		        {{ statusOK }}
		    </div>
		</div>
	{% endif %}
    <form action="{{ '/editAdd' | path }}" method="post"
          enctype="multipart/form-data">
<input type="hidden" id="id" name="id" value="{{ addId }}">    
    	<label for="title">Title</label>
        <input type="text" id="title" name="title" value="{{ advertisement.getTitle }}"
               class="form-control" placeholder="Title">                  

        <label for="content">Content</label>
        <textarea rows="4" cols="50" id="content" name="content" 
               class="materialize-textarea" placeholder="Content">{{ advertisement.getContent }}</textarea>
        <h4 class="grey-text text-lighten-2">Pet information</h4>
		<div class="input-field col s6">
	        <label for="petName">Pet name</label>
	        <input type="text" id="petName" name="petName" value="{{ advertisement.getPet.getName }}"
	               class="form-control" placeholder="Pet name">
		</div>
		<div class="input-field col s6">
	        <label for="age">Age</label>
	        <input type="number" id="age" name="age" min=0 value="{{ advertisement.getPet.getAge }}"
	               class="form-control">
		</div>
		<div class="input-field col s6">
	        <label for="race">Race</label>
	        <input type="text" id="race" name="race" value="{{ advertisement.getPet.getRace }}"
	               class="form-control" placeholder="Race">
		</div>
		<div class="input-field col s6">
	        <label class="categoryLabel" for="categoryName">Category name</label>
                <select name="categoryName">
		    {% for category in categories %}
                        <option value="{{category.getId}}" {% if category.getId==advertisement.getPet.getCategory.getId %} selected {% endif %}>{{category.getName}}</option>
		    {% endfor %}
                </select>
		</div>
        <h4 class="grey-text text-lighten-2">Location</h4>
		<div class="input-field col s6">
	        <label for="voivodership">Voivodership</label>
	        <input type="text" id="voivodership" name="voivodership" value="{{ advertisement.getLocation.getVoivodership }}"
	               class="form-control" placeholder="Voivodership">
	    </div>
		<div class="input-field col s6">
	        <label for="place">Place</label>
	        <input type="text" id="place" name="place" value="{{ advertisement.getLocation.getPlace }}"
	               class="form-control" placeholder="Place">
		</div>

		<div class="input-field col s6">
	        <label for="commune">Commune</label>
	        <input type="text" id="commune" name="commune" value="{{ advertisement.getLocation.getCommune }}"
	               class="form-control" placeholder="Commune">
		</div>

		<div class="col s12">
        	<h4 class="grey-text text-lighten-2">More</h4>
        </div>
        <div class="input-field col s12">
        <label for="tagsString">Tags</label>
        <input type="text" id="tagsString" name="tagsString" value="{{ tags }}"
               class="form-control" placeholder="Tags">
        </div>
        <div class="input-field col s12">
            <div class="row">
                        {% if files %}
                    <strong>File</strong>:
                    {% for file in files %}
                        <span class="label label-primary">#{{ file.getUri }}</span>
                    <a href="/removeAttachment?idAdd={{ addId }}&idAttachment={{file.getId}}&title={{advertisement.getTitle}}&content={{advertisement.getContent}}&petName={{advertisement.getPet.getName}}&age={{advertisement.getPet.getAge}}&race={{advertisement.getPet.getRace}}&categoryName={{advertisement.getPet.getCategory.getId}}&voivodership={{advertisement.getLocation.getVoivodership}}&commune={{advertisement.getLocation.getCommune}}&place={{advertisement.getLocation.getPlace}}&tagsString={{tags}}" class="btn-floating" >
                        Remove
                    </a>
                    {% endfor %}
                {% endif %} 
            </div>
         </div>
        <div class="file-field input-field col s12">
	    	<div class="btn">
	        	<span>Image</span>
	        	<input type="file" accept="image/*" id="image" name="image" value"proba.png">
	      	</div>
	      	<div class="file-path-wrapper">
	        	<input class="file-path validate" type="text">
	      	</div>
	    </div>
	    <div class="file-field input-field col s12">
	    	<div class="btn">
	        	<span>Video</span>
	        	<input type="file" accept="video/*" id="video" name="video">
	      	</div>
	      	<div class="file-path-wrapper">
	        	<input class="file-path validate" type="text">
	      	</div>
	    </div>
		<input type="hidden" name="{{ csrf.parameterName }}" value="{{ csrf.token }}" />
		<div class="col s12">
	        <button type="submit" class="btn btn-success center-block">
	            Edit 
	        </button>
        </div>
    </form>
</div>

{% endblock %}
